!function(t){"use strict";function n(t,n,i){switch(n=n.trim().toLowerCase()){case"==":return t==i;case"===":return t===i;case"!=":return t!=i;case"!==":return t!==i;case">":return t>i;case">=":return t>=i;case"<":return t<i;case"<=":return t<=i;case"in":return e(t,i);case"not in":return!e(t,i)}return!1}function e(n,e){if(Array.isArray(e)){const t=e;let i=!1;if(Array.isArray(n)){const e=n;for(let n=0;n<e.length;++n)if(t.includes(e[n])){i=!0;break}}else t.includes(n)&&(i=!0);return i}if(Array.isArray(n)){return n.includes(e)}if(t.isObject(n)){const i=n;if(!t.isUndefined(i[e]))return!0;for(const t in i)if(i.hasOwnProperty(t)&&i[t]===e)return!0}return"string"==typeof n&&("string"==typeof e?-1<e.indexOf(n)&&-1<n.indexOf(e):-1<e.indexOf(n))}function i(t,n){jQuery('[data-wpbf-tab-id="'+t+'"] .wpbf-tab-menu-item').removeClass("is-active");const e=document.querySelector('[data-wpbf-tab-id="'+t+'"] [data-wpbf-tab-menu-id="'+n+'"]');e&&e.classList.add("is-active");document.querySelectorAll('[data-wpbf-parent-tab-id="'+t+'"]').forEach(function(t){t instanceof HTMLElement&&(t.dataset.wpbfParentTabItem===n?t.classList.remove("wpbf-tab-item-hidden"):t.classList.add("wpbf-tab-item-hidden"))})}function o(n){n.section.each(function(t){const n=jQuery("#sub-accordion-section-"+t.id),e=jQuery("#accordion-section-"+t.id);e.hasClass("control-section-wpbf-expanded")&&n.appendTo(e)}),n.sectionConstructor["wpbf-link"]=n.Section.extend({attachEvents:function(){},isContextuallyActive:function(){return!0}}),function(n){n.bind("pane-contents-reflowed",function(){const t=[];n.section.each(function(n){"wpbf-nested"===n.params.type&&n.params.parentId&&t.push(n)}),t.sort(n.utils.prioritySort).reverse(),jQuery.each(t,function(t,n){if(!n.headContainer)return;jQuery("#sub-accordion-section-"+n.params.parentId).children(".section-meta").after(n.headContainer)})});const e=n.Section.prototype.embed,i=n.Section.prototype.isContextuallyActive,o=n.Section.prototype.attachEvents;n.Section=n.Section.extend({attachEvents:function(){const t=this;"wpbf-nested"===t.params.type&&t.params.parentId?(o.call(t),t.expanded.bind(function(e){if(!t.params.parentId)return;const i=n.section(t.params.parentId);e?i.contentContainer?.addClass("current-section-parent"):i.contentContainer?.removeClass("current-section-parent")}),t.container?.find(".customize-section-back").off("click keydown").on("click keydown",function(e){n.utils.isKeydownButNotEnterEvent(e)||(e.preventDefault(),t.params.parentId&&t.expanded()&&n.section(t.params.parentId).expand(t.params))})):o.call(t)},embed:function(){const t=this;if("wpbf-nested"!==t.params.type||!t.params.parentId)return void e.call(t);e.call(t);const n=jQuery("#sub-accordion-section-"+t.params.parentId);t.headContainer&&n.append(t.headContainer)},isContextuallyActive:function(){const e=this;if("wpbf-nested"!==e.params.type)return i.call(this);let o=0;const a=e._children("section","control");return n.section.each(function(t){t.params.parentId&&t.params.parentId===e.id&&a.push(t)}),a.sort(n.utils.prioritySort),t(a).each(function(t){void 0!==t.isContextuallyActive?t.active()&&t.isContextuallyActive()&&(o+=1):t.active()&&(o+=1)}),0!==o}})}(n)}window.wp.customize?.bind("ready",()=>{window.wp.customize&&(o(window.wp.customize),function(){const t=document.querySelectorAll("[data-wpbf-parent-tab-id]");let n=[];t.forEach(function(t){if(!(t instanceof HTMLElement))return;const e=t.dataset.wpbfParentTabId;e&&(n.includes(e)||n.push(e))}),jQuery(document).on("click",".wpbf-tab-menu-item a",function(t){if(t.preventDefault(),!(this instanceof HTMLElement))return;const n=this.parentElement;if(!n)return;const e=n.parentElement?.parentElement;if(!e)return;const o=e.dataset.wpbfTabId;if(!o)return;const a=n.dataset.wpbfTabMenuId;a&&i(o,a)}),n.forEach(function(t){window.wp.customize?.section(t,function(n){n.expanded.bind(function(n){if(n){const n=document.querySelector('[data-wpbf-tab-id="'+t+'"] .wpbf-tab-menu-item.is-active');if(n instanceof HTMLElement){const e=n.dataset.wpbfTabMenuId;e&&i(t,e)}}})})})}())}),window.WpbfCustomizeSection&&(window.WpbfCustomizeSection.switchTabs=i),window.wp.customize&&window.wpbfCustomizerSectionDependencies&&function(t,e){if(!window.wp.customize)return;const i={};for(const n in e){if(!e.hasOwnProperty(n))continue;const t=e[n];for(const e of t){let t=e.setting;!t&&e.id&&(t=e.id),t&&(i[t]||(i[t]=[]),i[t].push({dependantSectionId:n,operator:e.operator,value:e.value}))}}function o(t){for(const n in i)i.hasOwnProperty(n)&&a(n,t)}function a(n,e){t(n,function(t){const o=i[n];c(n,t.get(),o),e&&t.bind(function(t){c(n,t,o)})})}function c(i,o,a){for(const c of a){if(!n(o,c.operator,c.value)){s(c.dependantSectionId);continue}const a=e[c.dependantSectionId];if(a.length<2){r(c.dependantSectionId);continue}let d=!0;for(const e of a){let o=e.setting;if((!o&&e.id&&(o=e.id),o)&&(o!==i&&!n(t(o).get(),e.operator,e.value))){d=!1;break}}d?r(c.dependantSectionId):s(c.dependantSectionId)}}function r(n){t.section(n).activate()}function s(n){t.section(n).deactivate()}t.bind("ready",function(){o(!0)}),window.addEventListener("load",function(){o(!1)})}(window.wp.customize,window.wpbfCustomizerSectionDependencies)}(_);
//# sourceMappingURL=sections-min.js.map
