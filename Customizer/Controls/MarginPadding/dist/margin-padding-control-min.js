!function(){function e(e){return e&&e.__esModule?e.default:e}var t={};function n(e){let t="",n=0;if(""!==e){let i=-1<(e=(e="string"!=typeof e?e.toString():e).trim()).indexOf("-")?"-":"";e=e.replace(i,"");""!==e&&(t=e.replace(/\d+/g,""),n=parseFloat(i+e.replace(t,"").trim()))}return{unit:t,number:n}}function i(e,t){let i={};for(let t=0;t<e.length;t++)i[e[t]]=e[t];for(let o in t){if(!e.includes(o)||!t.hasOwnProperty(o)||!i.hasOwnProperty(o))continue;let r=t[o];if(""!==r){let e=n(r);i[o]=e.number}}return i}function o(e,t){let n=function(e){if(""!==e&&e)try{return JSON.parse(e)}catch(e){return}}(t);return n?i(e,n):function(e){let t={};for(let n=0;n<e.length;n++)t[e[n]]="";return t}(e)}function r(n){return e(t).createElement("ul",{className:"wpbf-responsive-options"},n.devices.map((n,i)=>{let o=`dashicons dashicons-${"mobile"===n?"smartphone":n}`;return e(t).createElement("li",{className:n,key:i},e(t).createElement("button",{type:"button",className:`preview-${n} ${0===i?"active":""}`,"data-device":n},e(t).createElement("i",{className:o})))}))}function s(s){let[a,l]=(0,t.useState)(()=>s.valueArray),c=""!==s.default&&void 0!==s.default;function u(e){let t=s.dontSaveUnit?i(s.dimensions,e):function(e,t,i){let o={};for(let t=0;t<e.length;t++)o[e[t]]=e[t];for(let r in i){if(!e.includes(r)||!o.hasOwnProperty(r))continue;let s=i[r];if(""!==s){let e=n(s);o[r]=e.number+t}}return o}(s.dimensions,s.unit,e);if(s.saveAsJson){s.customizerSetting.set(function(e){try{return JSON.stringify(e)}catch(e){return""}}(e));return}s.customizerSetting.set(t)}function m(e){let t=[];for(let n in a)if(a.hasOwnProperty(n)){if(!e){t.push({dimension:n,value:a[n]});continue}n.includes(e+"_")&&t.push({dimension:n,value:a[n]})}return t}function p(i,o){return e(t).createElement(e(t).Fragment,null,e(t).createElement("button",{type:"button",className:"wpbf-control-reset",onClick:e=>(function(e,t){let n=c?s.defaultArray:s.valueArray;if(!t){u(n);return}let i={...a};for(let e in i)i.hasOwnProperty(e)&&e.includes(t+"_")&&n.hasOwnProperty(e)&&(i[e]=n[e]);u(i)})(0,i)},e(t).createElement("i",{className:"dashicons dashicons-image-rotate"})),e(t).createElement("div",{className:`wpbf-control-cols ${v}`},e(t).createElement("div",{className:"wpbf-control-left-col"},e(t).createElement("div",{className:"wpbf-control-fields"},o.map((o,r)=>{let c=`wpbf-control-input wpbf-control-input${i?`-${i}`:""}-${o.dimension}`,m=`_customize-input-${s.control.id}${i?`-${i}`:""}-${o.dimension}`,p=i?o.dimension.replace(i+"_",""):o.dimension;return e(t).createElement("div",{className:"wpbf-control-field",key:r},e(t).createElement("input",{id:m,type:"number",value:o.value||0===o.value?o.value:"",className:c,onChange:e=>(function(e,t){if(!s.dimensions.includes(t)||!e.target)return;let i={...a};if(!i.hasOwnProperty(t))return;let o=n(e.target.value);i[t]=o.number,l(i),u(i)})(e,o.dimension)}),e(t).createElement("label",{className:"wpbf-control-sublabel",htmlFor:m},p))}))),e(t).createElement("div",{className:"wpbf-control-right-col"},e(t).createElement("span",{ref:f,className:"wpbf-control-unit"},s.unit))))}s.control.updateComponentState=e=>{l("string"==typeof e?o(s.dimensions,e):i(s.dimensions,e))};let d=`wpbf-control-input-${s.type}-top`,f=(0,t.useRef)(null),v=`wpbf-control-form ${s.isResponsive?"wpbf-responsive-padding-wrap":""}`;return e(t).createElement("div",{className:v,tabIndex:1},(s.label||s.description)&&e(t).createElement(e(t).Fragment,null,e(t).createElement("label",{className:"wpbf-control-label",htmlFor:d},s.label&&e(t).createElement("span",{className:"customize-control-title"},s.label),s.description&&e(t).createElement("span",{className:"customize-control-description description",dangerouslySetInnerHTML:{__html:s.description}}))),e(t).createElement("div",{className:"customize-control-notifications-container",ref:s.setNotificationContainer}),s.isResponsive&&s.devices?e(t).createElement(r,{devices:s.devices}):e(t).createElement(e(t).Fragment,null),s.isResponsive&&s.devices&&s.devices.length?e(t).createElement(e(t).Fragment,null,s.devices.map((n,i)=>{let o=0===i,r=`wpbf-control-device wpbf-control-${n} ${o?"active":""}`;return e(t).createElement("div",{className:r,key:i},p(n,m(n)))})):p("",m()))}t=React;var a={};a=ReactDOM;let l=wp.customize.Control.extend({initialize:function(e,t){let n=this;n.setNotificationContainer=n.setNotificationContainer.bind(n),wp.customize.Control.prototype.initialize.call(n,e,t),wp.customize.control.bind("removed",function e(t){n===t&&(n.destroy(),n.container.remove(),wp.customize.control.unbind("removed",e))})},setNotificationContainer:function(e){this.notifications.container=jQuery(e),this.notifications.render()},renderContent:function(){let n=(0,a.createRoot)(this.container[0]),i=this.params,o="responsive-margin"===i.subtype||"responsive-padding"===i.subtype;n.render(e(t).createElement(s,{type:i.type,subtype:i.subtype,label:i.label,description:i.description,setNotificationContainer:this.setNotificationContainer,control:this,customizerSetting:this.setting,default:i.default,defaultArray:i.defaultArray,valueArray:i.valueArray,unit:i.unit,saveAsJson:i.saveAsJson,dontSaveUnit:i.dontSaveUnit,dimensions:i.dimensions,devices:i.devices,isResponsive:o})),o&&(this.container.addClass("wpbf-customize-control-margin-padding"),this.container.data("control-subtype",i.subtype)),i.allowCollapse&&this.container.addClass("allowCollapse")},ready:function(){let e=this;e.setting.bind(t=>{let n="string"==typeof t?o(e.params.dimensions,t):t;e.updateComponentState(n)})},updateComponentState:e=>{},destroy:function(){e(a).unmountComponentAtNode(this.container[0]),wp.customize.Control.prototype.destroy&&wp.customize.Control.prototype.destroy.call(this)}});wp.customize.controlConstructor["wpbf-margin-padding"]=l,wp.customize.controlConstructor["wpbf-responsive-margin-padding"]=l}();
//# sourceMappingURL=margin-padding-control-min.js.map
