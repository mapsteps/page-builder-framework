!function(){function t(t){return t&&t.__esModule?t.default:t}var e,n={};n=jQuery;var i={};i=_,wp.customize.wpbfDynamicControl=wp.customize.Control.extend({initialize:function(e,o){o.type||(o.type="wpbf-generic");let s="";if(o.content){let t=o.content.split('class="');s=(t=t[1].split('"'))[0]}else s="customize-control customize-control-"+o.type;if(o.content){let c=t(n)(o.content);c.attr("id","customize-control-"+e.replace(/]/g,"").replace(/\[/g,"-")),c.attr("class",s);let l=o.wrapper_attrs??{};t(i).each(l,function(t,e){"class"===e&&(t=t.replace("{default_class}",s)),c.attr(e,t)}),o.content=c.prop("outerHTML")}this.propertyElements=[],wp.customize.Control.prototype.initialize.call(this,e,o),wp.hooks.doAction("wpbf.dynamicControl.init.after",e,this,o)},_setUpSettingRootLinks:function(){let e=this;e.container.find("[data-customize-setting-link]").each(function(){let i=t(n)(this);wp.customize(i.data("customizeSettingLink"),function(t){let n=wp.customize.Element(i);e.elements.push(n),n.sync(t),n.set(t())})})},_setUpSettingPropertyLinks:function(){let e=this;e.setting&&e.container.find("[data-customize-setting-property-link]").each(function(){let o;let s=t(n)(this),c=s.data("customizeSettingPropertyLink");o=wp.customize.Element(s),e.propertyElements.push(o),e.setting&&"function"==typeof e.setting&&(o.set(e.setting()[c]),o.bind(function(n){if(!e.setting||"function"!=typeof e.setting)return;let o=e.setting();n!==o[c]&&((o=t(i).clone(o))[c]=n,e.setting.set(o))}),e.setting.bind(function(t){t[c]!==o.get()&&o.set(t[c])}))})},ready:function(){let t=this;t._setUpSettingRootLinks?.(),t._setUpSettingPropertyLinks?.(),wp.customize.Control.prototype.ready.call(t),t.deferred.embedded.done(function(){t.initWpbfControl?.(),wp.hooks.doAction("wpbf.dynamicControl.ready.deferred.embedded.done",t)}),wp.hooks.doAction("wpbf.dynamicControl.ready.after",t)},embed:function(){let t=this,e=t.section();e&&(wp.customize.section(e,function(e){"wpbf-expanded"===e.params.type||e.expanded()||wp.customize.settings.autofocus.control===t.id?t.actuallyEmbed?.():e.expanded.bind(function(e){e&&t.actuallyEmbed?.()})}),wp.hooks.doAction("wpbf.dynamicControl.embed.after",t))},actuallyEmbed:function(){"resolved"!==this.deferred.embedded.state()&&(this.renderContent(),this.deferred.embedded.resolve(),wp.hooks.doAction("wpbf.dynamicControl.actuallyEmbed.after",this))},focus:function(t){this.actuallyEmbed?.(),wp.customize.Control.prototype.focus.call(this,t),wp.hooks.doAction("wpbf.dynamicControl.focus.after",this)},initWpbfControl:function(e){e=e??this,wp.hooks.doAction("wpbf.dynamicControl.initWpbfControl",this),e.container.on("change keyup paste click","input",function(){e?.setting&&"function"==typeof e?.setting&&e?.setting?.set(t(n)(this).val())})}}),(e=wp.customize).Value.prototype.set=function(e){let n=this._value;return e=this._setter.apply(this,arguments),null===(e=this.validate(e))||t(i).isEqual(n,e)||(this._value=e,this._dirty=!0,this.callbacks.fireWith(this,[e,n])),this},e.Value.prototype.get=function(){return this._value}}();