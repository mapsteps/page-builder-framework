!function(){function o(o,t){return o<t?-1:o>t?1:0}function t(t,e){let n=wp.customize.control(t);if(console.log(`Trying to compose font properties for control: "${n.id}"`),void 0===n||void 0===(e=e||n.setting.get())||"string"!=typeof e["font-family"])return;let i=function(o){if(wpbfGoogleFonts.items.hasOwnProperty(o)&&wpbfGoogleFonts.items[o])return wpbfGoogleFonts.items[o]}(e["font-family"]),r=void 0===e.variant?"regular":e.variant,p=wp.customize.control(t+"[variant]"),l={};if(i){let t=i.variants;for(let e in t.sort(o),wpbfFontVariants.complete)wpbfFontVariants.complete.hasOwnProperty(e)&&t.includes(e)&&(l[e]=wpbfFontVariants.complete[e])}else{let o=t.replace(/]/g,"");o=o.replace(/\[/g,"_");let e=wpbfFieldsFontVariants.hasOwnProperty(o)?wpbfFieldsFontVariants[o]:void 0;e&&e.length?e.forEach(o=>{l[o.value]=o.label}):l=wpbfFontVariants.standard}-1!==r.indexOf("i")?e["font-style"]="italic":e["font-style"]="normal",e["font-weight"]="regular"===r||"italic"===r?400:parseInt(r,10),p&&(1<Object.keys(l).length&&n.active()?p.activate():p.deactivate(),p.params.choices=l,p.ungroupedOptions=[],p.groupedOptions=[],p.destroy?.(),l[r]?p.doSelectAction?.("selectOption",r):p.doSelectAction?.("selectOption","regular"),console.log("Done composing font properties. Now the typography value is:",e)),wp.hooks.addAction("wpbf.dynamicControl.initKirkiControl","wpbf",function(o){p&&o.id})}wp.customize.bind("ready",function(){wpbfTypographyControlIds&&wpbfTypographyControlIds.length&&wpbfTypographyControlIds.forEach(o=>{wp.customize.control(o)&&(t(o),wp.customize(o,function(e){e.bind(function(e){t(o,e)})}),wpbfFontProperties&&wpbfFontProperties.length&&wpbfFontProperties.forEach(t=>{let e=`${o}[${t}]`;wp.customize.control(e)&&wp.customize(e,function(n){n.bind(function(n){let i=wp.customize(o).get()||{};i[t]=n,console.log(`"${e}" control is updated. Now the "${o}" typography control value should be: `,i),wp.customize(o).set({...i})})})}))})})}();