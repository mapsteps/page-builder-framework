!function(){wp.customize?.bind("ready",function(){var n;wp.customize&&(n=wp.customize,Array.isArray(wpbfTypographyControlIds)&&wpbfTypographyControlIds.forEach(e=>{n.control(e)&&n(e,function(n){var i;t(e,void 0,void 0,void 0),n.bind(function(n){t(e,n,void 0,void 0)}),i=e,Array.isArray(wpbfFontProperties)&&wpbfFontProperties.forEach(n=>{let e=`${i}[${n}]`;wp.customize.control(e)&&wp.customize(e,function(e){e.bind(function(e){t(i,void 0,n,e,!0)})})})})}))});function t(t,n,e,i,o){var a,r;let l=wp.customize?.control(t);if(!l||!l.setting)return;let f={...n=n||l.setting.get()};if("font-backup"in f&&delete f["font-backup"],"string"!=typeof f["font-family"])return;("font-family"===e||"variant"===e)&&(f[e]=i);let p=f.variant?f.variant:"regular";f.variant=p;let s=wp.customize.control(t+"[variant]"),c=s&&"wpbf-select"===s.params.type?s:void 0;if(c&&(void 0===e||"font-family"===e)){let n=function(t,n){let e=n["font-family"];if(!e)return[];let i=function(t){if(wpbfGoogleFonts&&wpbfGoogleFonts.items[t])return wpbfGoogleFonts.items[t]}(e),o=[];if(i){if(!wpbfFontVariantOptions)return o;let t=i.variants,n=0;for(;n<wpbfFontVariantOptions.complete.length;++n)t.includes(wpbfFontVariantOptions.complete[n].value)&&o.push({text:wpbfFontVariantOptions.complete[n].label,id:wpbfFontVariantOptions.complete[n].value})}else{let e=t.replace(/]/g,"");e=e.replace(/\[/g,"_");let i=wpbfFieldsFontVariants&&wpbfFieldsFontVariants[e]?wpbfFieldsFontVariants[e]:void 0;if(i&&"object"==typeof i)for(let t in i){if(!i.hasOwnProperty(t)||n["font-family"]!==t)continue;let e=i[t];if(!e.length)continue;let a=0;for(;a<e.length;++a)o.push({text:e[a].label,id:e[a].value})}else{if(o.length=0,!wpbfFontVariantOptions)return o;let t=0;for(;t<wpbfFontVariantOptions.standard.length;++t)o.push({text:wpbfFontVariantOptions.standard[t].label,id:wpbfFontVariantOptions.standard[t].value})}}return o}(t,f);n.length>1&&l.active()?c.activate():c.deactivate(),a=p,p=n.some(t=>t.id==a)?p:"regular";let e=c.container?.find(".wpbf-select2");e?.empty(),e?.append(n.map(t=>new Option(t.text,t.id,!1,!1))),e?.val(p),e?.trigger("change")}-1!==p.indexOf("i")?f["font-style"]="italic":f["font-style"]="normal",f["font-weight"]="regular"===p||"italic"===p||"number"!=typeof(r=p)&&("string"!=typeof r||isNaN(parseFloat(r)))?400:parseInt(p,10),l.setting.set(f),wp.hooks.addAction("wpbf.dynamicControl.initWpbfControl","wpbf",function(t){c&&t.id})}}();
//# sourceMappingURL=typography-control-min.js.map
