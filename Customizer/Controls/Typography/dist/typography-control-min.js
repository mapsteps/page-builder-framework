!function(){wp.customize.bind("ready",function(){Array.isArray(wpbfTypographyControlIds)&&wpbfTypographyControlIds.forEach(n=>{wp.customize.control(n)&&(wp.customize(n,function(e){e.bind(function(e){t(n,void 0,void 0,e)})}),t(n,void 0,void 0,void 0),Array.isArray(wpbfFontProperties)&&wpbfFontProperties.forEach(e=>{let o=`${n}[${e}]`;wp.customize.control(o)&&wp.customize(o,function(o){o.bind(function(o){t(n,e,o,void 0)})})}))})});function t(t,n,e,o){let i=wp.customize.control(t);if(!i||!i.setting||void 0===(o=o||i.setting.get())||"string"!=typeof o["font-family"])return;("font-family"===n||"variant"===n)&&(o[n]=e);let a=void 0===o.variant?"regular":o.variant,r=wp.customize.control(t+"[variant]"),l=r&&"wpbf-select"===r.params.type?r:void 0;if(-1!==a.indexOf("i")?o["font-style"]="italic":o["font-style"]="normal",o["font-weight"]="regular"===a||"italic"===a?400:parseInt(a,10),l&&(void 0===n||"font-family"===n)){let n=function(t,n){let e=n["font-family"];if(!e)return[];let o=function(t){if(wpbfGoogleFonts&&wpbfGoogleFonts.items[t])return wpbfGoogleFonts.items[t]}(e),i=[];if(o){if(!wpbfFontVariantOptions)return i;let t=o.variants,n=0;for(;n<wpbfFontVariantOptions.complete.length;++n)t.includes(wpbfFontVariantOptions.complete[n].value)&&i.push({text:wpbfFontVariantOptions.complete[n].label,id:wpbfFontVariantOptions.complete[n].value})}else{let e=t.replace(/]/g,"");e=e.replace(/\[/g,"_");let o=wpbfFieldsFontVariants&&wpbfFieldsFontVariants[e]?wpbfFieldsFontVariants[e]:void 0;if(o&&"object"==typeof o)for(let t in o){if(!o.hasOwnProperty(t)||n["font-family"]!==t)continue;let e=o[t];if(!e.length)continue;let a=0;for(;a<e.length;++a)i.push({text:e[a].label,id:e[a].value})}else{if(i.length=0,!wpbfFontVariantOptions)return i;let t=0;for(;t<wpbfFontVariantOptions.standard.length;++t)i.push({text:wpbfFontVariantOptions.standard[t].label,id:wpbfFontVariantOptions.standard[t].value})}}return i}(t,o);n.length>1&&i.active()?l.active()||l.activate():l.active()&&l.deactivate();let e=n.some(t=>t.id==a)?a:"regular";l.$selectbox?.empty(),l.$selectbox?.append(n.map(t=>new Option(t.text,t.id,!1,!1))),l.$selectbox?.val(e),l.$selectbox?.trigger("change")}wp.customize(t).set(o),wp.hooks.addAction("wpbf.dynamicControl.initWpbfControl","wpbf",function(t){l&&t.id})}}();
//# sourceMappingURL=typography-control-min.js.map
