!function(){wp.customize.bind("ready",function(){Array.isArray(wpbfTypographyControlIds)&&wpbfTypographyControlIds.forEach(n=>{wp.customize.control(n)&&wp.customize(n,function(e){t(n,void 0,void 0,void 0),e.bind(function(e){t(n,e,void 0,void 0)}),Array.isArray(wpbfFontProperties)&&wpbfFontProperties.forEach(e=>{let o=`${n}[${e}]`;wp.customize.control(o)&&wp.customize(o,function(o){o.bind(function(o){t(n,void 0,e,o,!0)})})})})})});function t(t,n,e,o,i){let a=wp.customize.control(t);if(!a||!a.setting)return;let r={...n=n||a.setting.get()};if("string"!=typeof r["font-family"])return;("font-family"===e||"variant"===e)&&(r[e]=o);let l=void 0===r.variant?"regular":r.variant,f=wp.customize.control(t+"[variant]"),p=f&&"wpbf-select"===f.params.type?f:void 0;if(p&&(void 0===e||"font-family"===e)){let n=function(t,n){let e=n["font-family"];if(!e)return[];let o=function(t){if(wpbfGoogleFonts&&wpbfGoogleFonts.items[t])return wpbfGoogleFonts.items[t]}(e),i=[];if(o){if(!wpbfFontVariantOptions)return i;let t=o.variants,n=0;for(;n<wpbfFontVariantOptions.complete.length;++n)t.includes(wpbfFontVariantOptions.complete[n].value)&&i.push({text:wpbfFontVariantOptions.complete[n].label,id:wpbfFontVariantOptions.complete[n].value})}else{let e=t.replace(/]/g,"");e=e.replace(/\[/g,"_");let o=wpbfFieldsFontVariants&&wpbfFieldsFontVariants[e]?wpbfFieldsFontVariants[e]:void 0;if(o&&"object"==typeof o)for(let t in o){if(!o.hasOwnProperty(t)||n["font-family"]!==t)continue;let e=o[t];if(!e.length)continue;let a=0;for(;a<e.length;++a)i.push({text:e[a].label,id:e[a].value})}else{if(i.length=0,!wpbfFontVariantOptions)return i;let t=0;for(;t<wpbfFontVariantOptions.standard.length;++t)i.push({text:wpbfFontVariantOptions.standard[t].label,id:wpbfFontVariantOptions.standard[t].value})}}return i}(t,r);n.length>1&&a.active()?p.activate():p.deactivate();let e=n.some(t=>t.id==l)?l:"regular";p.$selectbox?.empty(),p.$selectbox?.append(n.map(t=>new Option(t.text,t.id,!1,!1))),p.$selectbox?.val(e),p.$selectbox?.trigger("change")}-1!==l.indexOf("i")?r["font-style"]="italic":r["font-style"]="normal",r["font-weight"]="regular"===l||"italic"===l?400:parseInt(l,10),i&&(r.random=Date.now()),a.setting.set(r),wp.hooks.addAction("wpbf.dynamicControl.initWpbfControl","wpbf",function(t){p&&t.id})}}();
//# sourceMappingURL=typography-control-min.js.map
