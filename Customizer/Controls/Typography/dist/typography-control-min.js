!function(){function t(t,o){return t<o?-1:t>o?1:0}function o(o,e){let n=wp.customize.control(o);if(void 0===n||void 0===(e=e||n.setting.get())||"string"!=typeof e["font-family"])return;let i=function(t){if(wpbfGoogleFonts.items.hasOwnProperty(t)&&wpbfGoogleFonts.items[t])return wpbfGoogleFonts.items[t]}(e["font-family"]),a=void 0===e.variant?"regular":e.variant,l=wp.customize.control(o+"[variant]"),r=l&&"wpbf-select"===l.params.type?l:void 0,p=[];if(i){let o=i.variants;o.sort(t),wpbfFontVariantOptions.complete.forEach(t=>{o.includes(t.value)&&p.push({value:t.value,label:t.label})})}else{let t=o.replace(/]/g,"");t=t.replace(/\[/g,"_");let e=wpbfFieldsFontVariants.hasOwnProperty(t)?wpbfFieldsFontVariants[t]:void 0;e&&e.length?e.forEach(t=>{p.push({value:t.value,label:t.label})}):p=wpbfFontVariantOptions.standard}-1!==a.indexOf("i")?e["font-style"]="italic":e["font-style"]="normal",e["font-weight"]="regular"===a||"italic"===a?400:parseInt(a,10),r&&((1<Object.keys(p).length&&n.active()?r.activate():r.deactivate(),r.params.choices=p,r.formattedOptions=[],r.destroy?.(),p.some(t=>t.value===a))?r.doSelectAction?.("selectOption",a):r.doSelectAction?.("selectOption","regular")),wp.customize(o).set(e),console.log("Done composing font properties. Now the typography value is:",e),wp.hooks.addAction("wpbf.dynamicControl.initKirkiControl","wpbf",function(t){r&&t.id})}wp.customize.bind("ready",function(){wpbfTypographyControlIds&&wpbfTypographyControlIds.length&&wpbfTypographyControlIds.forEach(t=>{wp.customize.control(t)&&(o(t),wpbfFontProperties&&wpbfFontProperties.length&&wpbfFontProperties.forEach(e=>{let n=`${t}[${e}]`;wp.customize.control(n)&&wp.customize(n,function(n){n.bind(function(n){let i=wp.customize(t).get()||{};i[e]=n,o(t,i)})})}))})})}();
//# sourceMappingURL=typography-control-min.js.map
