!function(){wp.customize.bind("ready",function(){Array.isArray(wpbfTypographyControlIds)&&wpbfTypographyControlIds.forEach(n=>{wp.customize.control(n)&&(wp.customize(n,function(o){o.bind(function(o){t(n,void 0,void 0,o)})}),t(n,void 0,void 0,void 0),Array.isArray(wpbfFontProperties)&&wpbfFontProperties.forEach(o=>{let e=`${n}[${o}]`;wp.customize.control(e)&&wp.customize(e,function(e){e.bind(function(e){t(n,o,e,void 0)})})}))})});function t(t,n,o,e){let i=wp.customize.control(t);if(!i||!i.setting||void 0===(e=e||i.setting.get())||"string"!=typeof e["font-family"])return;("font-family"===n||"variant"===n)&&(e[n]=o);let a=void 0===e.variant?"regular":e.variant,r=wp.customize.control(t+"[variant]"),l=r&&"wpbf-select"===r.params.type?r:void 0;if(-1!==a.indexOf("i")?e["font-style"]="italic":e["font-style"]="normal",e["font-weight"]="regular"===a||"italic"===a?400:parseInt(a,10),l&&(void 0===n||"font-family"===n)){let n=function(t,n){let o=n["font-family"];if(!o)return[];let e=function(t){if(wpbfGoogleFonts&&wpbfGoogleFonts.items[t])return wpbfGoogleFonts.items[t]}(o),i=[];if(e){if(!wpbfFontVariantOptions)return i;let t=e.variants,n=0;for(;n<wpbfFontVariantOptions.complete.length;++n)t.includes(wpbfFontVariantOptions.complete[n].value)&&i.push({text:wpbfFontVariantOptions.complete[n].label,id:wpbfFontVariantOptions.complete[n].value})}else{let o=t.replace(/]/g,"");o=o.replace(/\[/g,"_");let e=wpbfFieldsFontVariants&&wpbfFieldsFontVariants[o]?wpbfFieldsFontVariants[o]:void 0;if(e&&"object"==typeof e)for(let t in e){if(!e.hasOwnProperty(t)||n["font-family"]!==t)continue;let o=e[t];if(!o.length)continue;let a=0;for(;a<o.length;++a)i.push({text:o[a].label,id:o[a].value})}else{if(i.length=0,!wpbfFontVariantOptions)return i;let t=0;for(;t<wpbfFontVariantOptions.standard.length;++t)i.push({text:wpbfFontVariantOptions.standard[t].label,id:wpbfFontVariantOptions.standard[t].value})}}return i}(t,e);n.length>1&&i.active()?l.activate():l.deactivate();let o=n.some(t=>t.id==a)?a:"regular";l.$selectbox?.empty(),l.$selectbox?.append(n.map(t=>new Option(t.text,t.id,!1,!1))),l.$selectbox?.val(o),l.$selectbox?.trigger("change")}wp.customize(t).set(e),wp.hooks.addAction("wpbf.dynamicControl.initWpbfControl","wpbf",function(t){l&&t.id})}}();
//# sourceMappingURL=typography-control-min.js.map
