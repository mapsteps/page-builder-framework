!function(){wp.customize.bind("ready",function(){Array.isArray(wpbfTypographyControlIds)&&wpbfTypographyControlIds.forEach(o=>{wp.customize.control(o)&&(wp.customize(o,function(n){n.bind(function(n){"page_font_family"===o&&console.log(`${o} control value is changed:`,n),t(o,n)})}),t(o))})});function t(t,o){let n=wp.customize.control(t);if(!n||!n.setting||(o=o||n.setting.get(),"page_font_family"===t&&console.log(`composeFontProperties for "${t}" control:`,o),void 0===o||"string"!=typeof o["font-family"]))return;let e=void 0===o.variant?"regular":o.variant,i=wp.customize.control(t+"[variant]"),a=i&&"wpbf-select"===i.params.type?i:void 0,l=function(t){if(wpbfGoogleFonts&&wpbfGoogleFonts.items[t])return wpbfGoogleFonts.items[t]}(o["font-family"]),r=[];if(l){if(!wpbfFontVariantOptions)return r;let t=l.variants,o=0;for(;o<wpbfFontVariantOptions.complete.length;++o)t.includes(wpbfFontVariantOptions.complete[o].value)&&r.push({text:wpbfFontVariantOptions.complete[o].label,id:wpbfFontVariantOptions.complete[o].value})}else{let n=t.replace(/]/g,"");n=n.replace(/\[/g,"_");let e=wpbfFieldsFontVariants&&wpbfFieldsFontVariants[n]?wpbfFieldsFontVariants[n]:void 0;if(e&&"object"==typeof e)for(let t in e){if(!e.hasOwnProperty(t)||o["font-family"]!==t)continue;let n=e[t];if(!n.length)continue;let i=0;for(;i<n.length;++i)r.push({text:n[i].label,id:n[i].value})}else{if(r.length=0,!wpbfFontVariantOptions)return r;let t=0;for(;t<wpbfFontVariantOptions.standard.length;++t)r.push({text:wpbfFontVariantOptions.standard[t].label,id:wpbfFontVariantOptions.standard[t].value})}}if(-1!==e.indexOf("i")?o["font-style"]="italic":o["font-style"]="normal",o["font-weight"]="regular"===e||"italic"===e?400:parseInt(e,10),a){r.length>1&&n.active()?a.active()||a.activate():a.active()&&a.deactivate();let t=r.some(t=>t.id==e)?e:"regular";a.$selectbox?.val(t),a.$selectbox?.trigger("change")}wp.customize(t).set(o),wp.hooks.addAction("wpbf.dynamicControl.initWpbfControl","wpbf",function(t){a&&t.id})}}();
//# sourceMappingURL=typography-control-min.js.map
