!function(){window.wp.customize?.bind("ready",function(){var n;window.wp.customize&&(n=window.wp.customize,Array.isArray(wpbfTypographyControlIds)&&wpbfTypographyControlIds.forEach(i=>{n.control(i)&&n(i,function(n){var o;t(i,void 0,void 0,void 0),n.bind(function(n){t(i,n,void 0,void 0)}),o=i,Array.isArray(wpbfFontProperties)&&wpbfFontProperties.forEach(n=>{let i=`${o}[${n}]`;window.wp.customize?.control(i)&&window.wp.customize?.(i,function(i){i.bind(function(i){t(o,void 0,n,i,!0)})})})})}))});function t(t,n,i,o,e){var a,r;let l=window.wp.customize?.control(t);if(!l||!l.setting)return;let f={...n=n||l.setting.get()};if("font-backup"in f&&delete f["font-backup"],"string"!=typeof f["font-family"])return;("font-family"===i||"variant"===i)&&(f[i]=o);let p=f.variant?f.variant:"regular";f.variant=p;let s=window.wp.customize?.control(t+"[variant]"),w=s&&"wpbf-enhanced-select"===s.params.type?s:void 0;if(w&&(void 0===i||"font-family"===i)){let n=function(t,n){let i=n["font-family"];if(!i)return[];let o=function(t){if(wpbfGoogleFonts&&wpbfGoogleFonts.items[t])return wpbfGoogleFonts.items[t]}(i),e=[];if(o){if(!wpbfFontVariantOptions)return e;let t=o.variants,n=0;for(;n<wpbfFontVariantOptions.complete.length;++n)t.includes(wpbfFontVariantOptions.complete[n].value)&&e.push({text:wpbfFontVariantOptions.complete[n].label,id:wpbfFontVariantOptions.complete[n].value})}else{let i=t.replace(/]/g,"");i=i.replace(/\[/g,"_");let o=wpbfFieldsFontVariants&&wpbfFieldsFontVariants[i]?wpbfFieldsFontVariants[i]:void 0;if(o&&"object"==typeof o)for(let t in o){if(!o.hasOwnProperty(t)||n["font-family"]!==t)continue;let i=o[t];if(!i.length)continue;let a=0;for(;a<i.length;++a)e.push({text:i[a].label,id:i[a].value})}else{if(e.length=0,!wpbfFontVariantOptions)return e;let t=0;for(;t<wpbfFontVariantOptions.standard.length;++t)e.push({text:wpbfFontVariantOptions.standard[t].label,id:wpbfFontVariantOptions.standard[t].value})}}return e}(t,f);n.length>1&&l.active()?w.activate():w.deactivate(),a=p,p=n.some(t=>t.id==a)?p:"regular";let i=w.container?.find(".wpbf-select2");i?.empty(),i?.append(n.map(t=>new Option(t.text,t.id,!1,!1))),i?.val(p),i?.trigger("change")}-1!==p.indexOf("i")?f["font-style"]="italic":f["font-style"]="normal",f["font-weight"]="regular"===p||"italic"===p||"number"!=typeof(r=p)&&("string"!=typeof r||isNaN(parseFloat(r)))?400:parseInt(p,10),l.setting.set(f),window.wp.hooks.addAction("wpbf.dynamicControl.initWpbfControl","wpbf",function(t){w&&t.id})}}();
//# sourceMappingURL=typography-control-min.js.map
