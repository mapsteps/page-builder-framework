!function(){"use strict";function t(t,n,o,i,e){const r=wp.customize?.control(t);if(!r||!r.setting)return;n=n||r.setting.get();const a={...n};if("font-backup"in a&&delete a["font-backup"],void 0===a)return;if("string"!=typeof a["font-family"])return;"font-family"!==o&&"variant"!==o||(a[o]=i);let f=a.variant?a.variant:"regular";a.variant=f;const s=wp.customize.control(t+"[variant]"),p=s&&"wpbf-select"===s.params.type?s:void 0;if(p&&(void 0===o||"font-family"===o)){const n=function(t,n){const o=n["font-family"];if(!o)return[];const i=function(t){if(wpbfGoogleFonts)return wpbfGoogleFonts.items[t]?wpbfGoogleFonts.items[t]:void 0}(o),e=[];if(i){if(!wpbfFontVariantOptions)return e;let t=i.variants,n=0;for(;n<wpbfFontVariantOptions.complete.length;++n)t.includes(wpbfFontVariantOptions.complete[n].value)&&e.push({text:wpbfFontVariantOptions.complete[n].label,id:wpbfFontVariantOptions.complete[n].value})}else{let o=t.replace(/]/g,"");o=o.replace(/\[/g,"_");const i=wpbfFieldsFontVariants&&wpbfFieldsFontVariants[o]?wpbfFieldsFontVariants[o]:void 0;if(i&&"object"==typeof i)for(const t in i){if(!i.hasOwnProperty(t))continue;if(n["font-family"]!==t)continue;const o=i[t];if(!o.length)continue;let r=0;for(;r<o.length;++r)e.push({text:o[r].label,id:o[r].value})}else{if(e.length=0,!wpbfFontVariantOptions)return e;let t=0;for(;t<wpbfFontVariantOptions.standard.length;++t)e.push({text:wpbfFontVariantOptions.standard[t].label,id:wpbfFontVariantOptions.standard[t].value})}}return e}(t,a);n.length>1&&r.active()?p.activate():p.deactivate();f=function(t,n){return n.some((n=>n.id==t))}(f,n)?f:"regular";const o=p.container?.find(".wpbf-select2");o?.empty(),o?.append(n.map((t=>new Option(t.text,t.id,!1,!1)))),o?.val(f),o?.trigger("change")}var c;-1!==f.indexOf("i")?a["font-style"]="italic":a["font-style"]="normal",a["font-weight"]="regular"===f||"italic"===f?400:"number"==typeof(c=f)||"string"==typeof c&&!isNaN(parseFloat(c))?parseInt(f,10):400,r.setting.set(a),wp.hooks.addAction("wpbf.dynamicControl.initWpbfControl","wpbf",(function(t){p&&t.id}))}wp.customize?.bind("ready",(function(){wp.customize&&function(n){if(!Array.isArray(wpbfTypographyControlIds))return;wpbfTypographyControlIds.forEach((o=>{n.control(o)&&n(o,(function(n){t(o,void 0,void 0,void 0),n.bind((function(n){t(o,n,void 0,void 0)})),function(n){if(!Array.isArray(wpbfFontProperties))return;wpbfFontProperties.forEach((o=>{const i=`${n}[${o}]`;wp.customize.control(i)&&wp.customize(i,(function(i){i.bind((function(i){t(n,void 0,o,i)}))}))}))}(o)}))}))}(wp.customize)}))}();
//# sourceMappingURL=typography-control-min.js.map
