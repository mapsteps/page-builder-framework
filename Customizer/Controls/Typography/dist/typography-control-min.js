!function(){wp.customize.bind("ready",function(){wpbfTypographyControlIds&&wpbfTypographyControlIds.length&&wpbfTypographyControlIds.forEach(o=>{wp.customize.control(o)&&(t(o),wpbfFontProperties&&wpbfFontProperties.length&&wpbfFontProperties.forEach(e=>{let n=`${o}[${e}]`;wp.customize.control(n)&&wp.customize(n,function(n){n.bind(function(n){let i=wp.customize(o).get()||{};i[e]=n,t(o,i)})})}))})});function t(t,o){let e=wp.customize.control(t);if(void 0===e||void 0===(o=o||e.setting.get())||"string"!=typeof o["font-family"])return;let n=void 0===o.variant?"regular":o.variant,i=wp.customize.control(t+"[variant]"),a=i&&"wpbf-select"===i.params.type?i:void 0,l=function(t){if(wpbfGoogleFonts.items.hasOwnProperty(t)&&wpbfGoogleFonts.items[t])return wpbfGoogleFonts.items[t]}(o["font-family"]),r=[];if(l){let t=l.variants,o=0;for(;o<wpbfFontVariantOptions.complete.length;++o)if(t.includes(wpbfFontVariantOptions.complete[o].value)){r.push({l:wpbfFontVariantOptions.complete[o].label,v:wpbfFontVariantOptions.complete[o].value});break}}else{let o=t.replace(/]/g,"");o=o.replace(/\[/g,"_");let e=wpbfFieldsFontVariants.hasOwnProperty(o)?wpbfFieldsFontVariants[o]:void 0;if(e&&e.length){let t=0;for(;t<e.length;++t)r.push({l:e[t].label,v:e[t].value})}else{r.length=0;let t=0;for(;t<wpbfFontVariantOptions.standard.length;++t)r.push({l:wpbfFontVariantOptions.standard[t].label,v:wpbfFontVariantOptions.standard[t].value})}}console.log("variants after formatted properly:",r),-1!==n.indexOf("i")?o["font-style"]="italic":o["font-style"]="normal",o["font-weight"]="regular"===n||"italic"===n?400:parseInt(n,10),a&&((r.length>1&&e.active()?a.activate():a.deactivate(),a.parseSelectChoices?.(r),a.destroy?.(),r.some(t=>t.v===n))?a.doSelectAction?.("selectOption",n):a.doSelectAction?.("selectOption","regular")),wp.customize(t).set(o),console.log("Done composing font properties. Now the typography value is:",o),wp.hooks.addAction("wpbf.dynamicControl.initKirkiControl","wpbf",function(t){a&&t.id})}}();
//# sourceMappingURL=typography-control-min.js.map
