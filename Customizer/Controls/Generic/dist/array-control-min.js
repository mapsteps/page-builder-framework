!function(){let t=wp.customize.Control.extend({initialize:function(t,e){let o=this;wp.customize.Control.prototype.initialize.call(o,t,e),wp.customize.control.bind("removed",function t(e){o===e&&(o.destroy&&o.destroy(),o.container.remove(),wp.customize.control.unbind("removed",t))})},renderContent:function(){let t=e(this);if(!t)return;let n=o(this.params.value);t.value=JSON.stringify(n)},ready:function(){let t=this;t.setting.bind(e=>{console.log(`"${t.id}" array control is updated and its value is:`,o(e)),t.updateComponentState?.(o(e))})},updateComponentState:function(t){let o=e(this);o&&(o.value=JSON.stringify(t))},destroy:function(){wp.customize.Control.prototype.destroy&&wp.customize.Control.prototype.destroy.call(this)}});function e(t){let e=t.container[0].querySelector(`#_customize-input-${t.id}`);if(e&&e instanceof HTMLInputElement)return e}function o(t){let e=[];if(t){if("string"==typeof t)try{e=JSON.parse(t)}catch(t){e=[]}else(Array.isArray(t)||"object"==typeof t)&&(e=t)}return Array.isArray(e)||"object"==typeof e||(e=[]),e}wp.customize.controlConstructor["wpbf-array"]=t}();