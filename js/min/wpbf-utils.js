!function(){/*! MIT License Â© Sindre Sorhus */class e extends Error{constructor(e,t,r){let o=e.status||0===e.status?e.status:"",n=e.statusText||"",s=`${o} ${n}`.trim();super(`Request failed with ${s?`status code ${s}`:"an unknown error"}: ${t.method} ${t.url}`),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=e,this.request=t,this.options=r}}class t extends Error{constructor(e){super(`Request timed out: ${e.method} ${e.url}`),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=e}}let r=e=>null!==e&&"object"==typeof e,o=(...e)=>{for(let t of e)if((!r(t)||Array.isArray(t))&&void 0!==t)throw TypeError("The `options` argument must be an object");return s({},...e)},n=(e={},t={})=>{let r=new globalThis.Headers(e),o=t instanceof globalThis.Headers;for(let[e,n]of new globalThis.Headers(t).entries())o&&"undefined"===n||void 0===n?r.delete(e):r.set(e,n);return r},s=(...e)=>{let t={},o={};for(let i of e)if(Array.isArray(i))Array.isArray(t)||(t=[]),t=[...t,...i];else if(r(i)){for(let[e,o]of Object.entries(i))r(o)&&e in t&&(o=s(t[e],o)),t={...t,[e]:o};r(i.headers)&&(o=n(o,i.headers),t.headers=o)}return t},i=(()=>{let e=!1,t=!1,r="function"==typeof globalThis.Request;if("function"==typeof globalThis.ReadableStream&&r)try{t=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")}catch(e){if(e instanceof Error&&"unsupported BodyInit type"===e.message)return!1;throw e}return e&&!t})(),a="function"==typeof globalThis.AbortController,l="function"==typeof globalThis.ReadableStream,u="function"==typeof globalThis.FormData,c=["get","post","put","patch","head","delete"],d={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},f=Symbol("stop"),h={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},p={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},m=e=>c.includes(e)?e.toUpperCase():e,b=[413,429,503],y={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:b,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:e=>.3*2**(e-1)*1e3},g=(e={})=>{if("number"==typeof e)return{...y,limit:e};if(e.methods&&!Array.isArray(e.methods))throw Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw Error("retry.statusCodes must be an array");return{...y,...e,afterStatusCodes:b}};async function _(e,r,o,n){return new Promise((s,i)=>{let a=setTimeout(()=>{o&&o.abort(),i(new t(e))},n.timeout);n.fetch(e,r).then(s).catch(i).then(()=>{clearTimeout(a)})})}async function w(e,{signal:t}){return new Promise((r,o)=>{function n(){clearTimeout(s),o(t.reason)}t&&(t.throwIfAborted(),t.addEventListener("abort",n,{once:!0}));let s=setTimeout(()=>{t?.removeEventListener("abort",n),r()},e)})}let T=(e,t)=>{let r={};for(let o in t)o in p||o in h||o in e||(r[o]=t[o]);return r};class E{static create(t,r){let o=new E(t,r),n=async()=>{if("number"==typeof o._options.timeout&&o._options.timeout>2147483647)throw RangeError("The `timeout` option cannot be greater than 2147483647");await Promise.resolve();let t=await o._fetch();for(let e of o._options.hooks.afterResponse){let r=await e(o.request,o._options,o._decorateResponse(t.clone()));r instanceof globalThis.Response&&(t=r)}if(o._decorateResponse(t),!t.ok&&o._options.throwHttpErrors){let r=new e(t,o.request,o._options);for(let e of o._options.hooks.beforeError)r=await e(r);throw r}if(o._options.onDownloadProgress){if("function"!=typeof o._options.onDownloadProgress)throw TypeError("The `onDownloadProgress` option must be a function");if(!l)throw Error("Streams are not supported in your environment. `ReadableStream` is missing.");return o._stream(t.clone(),o._options.onDownloadProgress)}return t},s=o._options.retry.methods.includes(o.request.method.toLowerCase())?o._retry(n):n();for(let[e,t]of Object.entries(d))s[e]=async()=>{o.request.headers.set("accept",o.request.headers.get("accept")||t);let n=(await s).clone();if("json"===e){if(204===n.status||0===(await n.clone().arrayBuffer()).byteLength)return"";if(r.parseJson)return r.parseJson(await n.text())}return n[e]()};return s}constructor(e,t={}){Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=e;let r=this._input instanceof Request&&"credentials"in Request.prototype?this._input.credentials:void 0;if(this._options={...r&&{credentials:r},...t,headers:n(this._input.headers,t.headers),hooks:s({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},t.hooks),method:m(t.method??this._input.method),prefixUrl:String(t.prefixUrl||""),retry:g(t.retry),throwHttpErrors:!1!==t.throwHttpErrors,timeout:t.timeout??1e4,fetch:t.fetch??globalThis.fetch.bind(globalThis)},"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(a){if(this.abortController=new globalThis.AbortController,this._options.signal){let e=this._options.signal;this._options.signal.addEventListener("abort",()=>{this.abortController.abort(e.reason)})}this._options.signal=this.abortController.signal}if(i&&(this._options.duplex="half"),void 0!==this._options.json&&(this._options.body=this._options.stringifyJson?.(this._options.json)??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){let e="string"==typeof this._options.searchParams?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString(),t=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,"?"+e);(u&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(t,{...this.request}),this._options)}}_calculateRetryDelay(r){if(this._retryCount++,this._retryCount<=this._options.retry.limit&&!(r instanceof t)){if(r instanceof e){if(!this._options.retry.statusCodes.includes(r.response.status))return 0;let e=r.response.headers.get("Retry-After");if(e&&this._options.retry.afterStatusCodes.includes(r.response.status)){let t=1e3*Number(e);Number.isNaN(t)&&(t=Date.parse(e)-Date.now());let r=this._options.retry.maxRetryAfter??t;return t<r?t:r}if(413===r.response.status)return 0}let t=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,t)}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(r){let t=Math.min(this._calculateRetryDelay(r),2147483647);if(0!==t&&this._retryCount>0){for(let e of(await w(t,{signal:this._options.signal}),this._options.hooks.beforeRetry))if(await e({request:this.request,options:this._options,error:r,retryCount:this._retryCount})===f)return;return this._retry(e)}throw r}}async _fetch(){for(let e of this._options.hooks.beforeRequest){let t=await e(this.request,this._options);if(t instanceof Request){this.request=t;break}if(t instanceof Response)return t}let e=T(this.request,this._options),t=this.request;return(this.request=t.clone(),!1===this._options.timeout)?this._options.fetch(t,e):_(t,e,this.abortController,this._options)}_stream(e,t){let r=Number(e.headers.get("content-length"))||0,o=0;return 204===e.status?(t&&t({percent:1,totalBytes:r,transferredBytes:o},new Uint8Array),new globalThis.Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(n){let s=e.body.getReader();async function i(){let{done:e,value:a}=await s.read();if(e){n.close();return}t&&(o+=a.byteLength,t({percent:0===r?0:o/r,transferredBytes:o,totalBytes:r},a)),n.enqueue(a),await i()}t&&t({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array),await i()}}),{status:e.status,statusText:e.statusText,headers:e.headers})}}let S=e=>{let t=(t,r)=>E.create(t,o(e,r));for(let r of c)t[r]=(t,n)=>E.create(t,o(e,n,{method:r}));return t.create=e=>S(o(e)),t.extend=t=>S(o(e,t)),t.stop=f,t},L=S(),q=Object.getPrototypeOf,R,A,P,x,H={isConnected:1},C,M={},$=q(H),k=q(q),j,N=(e,t,r,o)=>(e??(setTimeout(r,o),new Set)).add(t),O=(e,t,r)=>{let o=P;P=t;try{return e(r)}catch(e){return console.error(e),r}finally{P=o}},U=e=>e.filter(e=>e._dom?.isConnected),I=e=>C=N(C,e,()=>{for(let e of C)e._bindings=U(e._bindings),e._listeners=U(e._listeners);C=j},1e3),V={get val(){return P?._getters?.add(this),this.rawVal},get oldVal(){return P?._getters?.add(this),this._oldVal},set val(v){P?._setters?.add(this),v!==this.rawVal&&(this.rawVal=v,this._bindings.length+this._listeners.length?(A?.add(this),R=N(R,this,X)):this._oldVal=v)}},D=e=>({__proto__:V,rawVal:e,_oldVal:e,_bindings:[],_listeners:[]}),B=(e,t)=>{let r={_getters:new Set,_setters:new Set},o={f:e},n=x;x=[];let s=O(e,r,t);for(let e of(s=(s??document).nodeType?s:new Text(s),r._getters))r._setters.has(e)||(I(e),e._bindings.push(o));for(let e of x)e._dom=s;return x=n,o._dom=s},F=(e,t=D(),r)=>{let o={_getters:new Set,_setters:new Set},n={f:e,s:t};for(let s of(n._dom=r??x?.push(n)??H,t.val=O(e,o,t.rawVal),o._getters))o._setters.has(s)||(I(s),s._listeners.push(n));return t},W=(e,...t)=>{for(let r of t.flat(1/0)){let t=q(r??0),o=t===V?B(()=>r.val):t===k?B(r):r;o!=j&&e.append(o)}return e},J=(e,t,...r)=>{let[o,...n]=q(r[0]??0)===$?r:[{},...r],s=e?document.createElementNS(e,t):document.createElement(t);for(let[e,r]of Object.entries(o)){let o=t=>t?Object.getOwnPropertyDescriptor(t,e)??o(q(t)):j,n=t+","+e,i=M[n]??(M[n]=o(q(s))?.set??0),a=e.startsWith("on")?(t,r)=>{let o=e.slice(2);s.removeEventListener(o,r),s.addEventListener(o,t)}:i?i.bind(s):s.setAttribute.bind(s,e),l=q(r??0);e.startsWith("on")||l===k&&(r=F(r),l=V),l===V?B(()=>(a(r.val,r._oldVal),s)):a(r)}return W(s,...n)},Y=e=>({get:(t,r)=>J.bind(j,e,r)}),z=new Proxy(e=>new Proxy(J,Y(e)),Y()),Q=(e,t)=>t?t!==e&&e.replaceWith(t):e.remove(),X=()=>{let e=0,t=[...R].filter(e=>e.rawVal!==e._oldVal);do for(let e of(A=new Set,new Set(t.flatMap(e=>e._listeners=U(e._listeners)))))F(e.f,e.s,e._dom),e._dom=j;while(++e<100&&(t=[...A]).length)let r=[...R].filter(e=>e.rawVal!==e._oldVal);for(let e of(R=j,new Set(r.flatMap(e=>e._bindings=U(e._bindings)))))Q(e._dom,B(e.f,e._dom)),e._dom=j;for(let e of r)e._oldVal=e.rawVal};function G(e,t){let r=e instanceof HTMLElement?e:document.querySelector(e);return r&&r.getAttribute&&t&&r.getAttribute(t)||""}let K={desktop:1024,tablet:768,mobile:480};function Z(e){let t=K[e]||0,r=document.body.className.match("wpbf-"+e+"-breakpoint-[\\w-]*\\b");if(!r)return t;let o=r.toString().match(/\d+/);return Array.isArray(o)?parseInt(o[0],10):0}function ee(){return K.desktop=Z("desktop"),K.tablet=Z("tablet"),K.mobile=Z("mobile"),K}function et(e){if(!e)return 0;e.style.opacity="0",e.style.display="block";let t=window.getComputedStyle(e),r=e.offsetHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderTopWidth)-parseFloat(t.borderBottomWidth),o=e.getAttribute("style");return o&&(o=(o=o.replace(/display\s*:\s*block\s*;/,"")).replace(/opacity\s*:\s*0\s*;/,""),e.setAttribute("style",o)),r}function er(e,t,r){let o=e.id?e.id:"wpbf-"+Math.random().toString(36).substring(2,9);e.id||(e.id=o);let n=`wpbf-style-${o}`,s=t?document.querySelector(`#${n}[data-scope="${t}"]`):document.querySelector(`#${n}`);if(s&&s instanceof HTMLStyleElement)return r&&(s.innerHTML=r),s;let i=document.createElement("style");return i.id=`wpbf-style-${o}`,t&&(i.dataset.scope=t),r&&(i.innerHTML=r),document.head.appendChild(i),i}function eo(e,t){return er(e,t,void 0).id}window.WpbfUtils={isInsideCustomizer:()=>!!window.wp&&!!window.wp.customize,dom:{findHtmlEl:function(e){let t=document.querySelector(e);return t instanceof HTMLElement?t:null},getHtmlEls:function(e){let t=document.querySelectorAll(e),r=[];for(let e=0;e<t.length;e++){let o=t[e];o instanceof HTMLElement&&r.push(o)}return r},getParentHtmlEl:function(e){let t=e.parentNode;return t instanceof HTMLElement?t:null},getSiblings:function(e,t){if(!e.parentNode)return[];let r=[],o=e.parentNode.firstChild;for(;o;)1===o.nodeType&&o instanceof HTMLElement&&o!==e&&(!t||o.matches(t))&&r.push(o),o=o.nextSibling;return r},getSiblingHtmlEl:function(e){let t=e.nextElementSibling;return t instanceof HTMLElement?t:null},getNextElsUntil:function(e,t,r){let o=e instanceof Element?e:document.querySelector(e);if(!o)return[];let n=[],s=o.nextElementSibling;for(;s&&!s.matches(t);)r&&s.matches(r)&&n.push(s),s=s.nextElementSibling;return n},getPrevElsUntil:function(e,t,r){let o=e instanceof Element?e:document.querySelector(e);if(!o)return[];let n=[],s=o.previousElementSibling;for(;s&&!s.matches(t);)r&&s.matches(r)&&n.push(s),s=s.previousElementSibling;return n},getLastHtmlEl:function(e){let t=document.querySelectorAll(e),r=t[t.length-1];return r instanceof HTMLElement?r:null},directQuerySelector:function(e,t){let r=e.className;r=(r=r.replace(/^\s+|\s+$/g,"")).replace(/\s/g,".");let o=e.parentNode;if(!o)return null;let n=o.querySelectorAll(`.${r} > ${t}`);if(!n.length)return null;let s=null;for(let t=0;t<n.length;t++){if(n[t].parentNode!=e)continue;let r=n[t];if(r instanceof HTMLElement){s=r;break}}return s},forEachEl:function(e,t){if(!(e instanceof NodeList)&&!Array.isArray(e)&&"string"!=typeof e||"function"!=typeof t)return;let r=e instanceof NodeList||Array.isArray(e)?e:document.querySelectorAll(e);if(r.length)for(let e=0;e<r.length;e++){let o=r[e];o instanceof HTMLElement&&t(o)}},listenDocumentEvent:function(e,t,r){if("string"!=typeof e||"function"!=typeof r)return;let o=e;switch(e){case"mouseenter":o="mouseover";break;case"mouseleave":o="mouseout"}document.addEventListener(o,function(e){if(!e.target||!(e.target instanceof HTMLElement))return;let n=e.target;if(t){let r=e.target.closest(t);if(!r)return;r instanceof HTMLElement&&(n=r)}n&&"mouseout"===o&&e instanceof MouseEvent&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||r.call(n,e)})},getAttr:G,getAttrAsNumber:function(e,t){let r=G(e,t);return r?parseInt(r,10):0},getActiveBreakpoint:function(){let e=ee(),t=document.documentElement.clientWidth,r="desktop";return t>e.desktop?r:r=t>e.tablet?"tablet":"mobile"},getBreakpoints:ee,updateElSrc:function(e,t){(e instanceof HTMLImageElement||e instanceof HTMLVideoElement||e instanceof HTMLEmbedElement||e instanceof HTMLAudioElement||e instanceof HTMLSourceElement||e instanceof HTMLIFrameElement)&&(e.src=t)},getOffset:function(e){let t=e.getBoundingClientRect();return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}},getWindowScrollTop:function(){return document.documentElement?document.documentElement.scrollTop:document.body.scrollTop},getPureHeight:et,builder:{add:W,tags:z,state:D,derive:F,hydrate:(e,t)=>Q(e,B(t,e))}},anim:{hideElAfterDelay:function(e,t){e&&"number"==typeof t&&setTimeout(function(){e.style.display="none"},t)},writeElStyle:er,getElStyleId:eo,getElStyleTag:function(e,t){return er(e,t,void 0)},animateScrollTop:function(e,t){let r=window.scrollY,o=e-r,n=performance.now();requestAnimationFrame(function e(s){let i=s-n;window.scrollTo(0,r+o/2-o/2*Math.cos(Math.PI*i/t)),i<t&&requestAnimationFrame(e)})},slideToggle:function(e){let t=e.el,r=e.direction,o=e.duration??400,n=e.easing??"ease-in-out",s=e.callback,i=e.animScope,a=et(t),l=eo(t,i).replace("wpbf-style-",""),u="slide-anim",c="is-expanded",d="is-collapsed";if(er(t,i,`
		#${l}.${u}.${d} {height: 0;}
		#${l}.${u}.${c} {height: ${a}px;}
		#${l}.${u} {display: block; overflow: hidden; transition: height ${o}ms ${n};}
		`),"down"===r){t.classList.add(d),t.classList.add(u),setTimeout(function(){t.classList.add(c),t.classList.remove(d),setTimeout(()=>{t.classList.remove(c),s?.()},o)},1);return}t.classList.add(c),t.classList.add(u),setTimeout(function(){t.classList.add(d),t.classList.remove(c),setTimeout(function(){t.classList.remove(u),t.classList.remove(d),s?.()},o)},1)}},fetch:L,url:{addUrlParams:function(e,t){let r=new URL(e);for(let e in t)r.searchParams.set(e,t[e]);return r.toString()}}}}();
//# sourceMappingURL=wpbf-utils.js.map
