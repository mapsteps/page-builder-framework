{"mappings":"AAGAA,GAAGC,UAAUC,mBAAmB,mBAAqBF,GAAGC,UAAUE,oBAAoBC,OAAQ,CAE7FC,iBAAkB,SAAUC,GAC3B,IAAIC,GACJD,EAAUA,GAAWE,MAGbC,qBAGRH,EAAQI,UAAUC,GAAI,qBAAsB,SAAS,WACpDJ,EAAQK,OAAQJ,MAAOK,MACvBP,EAAQQ,QAAQC,IAAKR,0BAgBZ,iBAEHC,KAAKQ,OAAa,IAAiCV,EAAAW,OAAcC,cAAW,IACxEZ,EAAiBW,OAAQC,QAAOC,kBAAU,IAAoBb,EAACW,OAAAC,QAAAC,6BACtEb,EAAec,IAAA,SAAAN,KACfO,MAAA,SAASd,GACV,IAACe,EAAA,kBAEOhB,EAAAiB,iBAA0BhB,IAAAS,IAAAQ,MAAAjB,GAMtBO,EAAEW,cAAlBC,OAA4BJ,GANUR,EAAAW,cAAAE,IAAAL,EAAA,IAAAtB,GAAAC,UAAA2B,aAAAN,EAAA,CAEnCO,KAAA,UACDC,QAAAC,mBAAA,4CAMgC,SAAAxB,OAY/ByB,EAAcC,EAASC,EAZU5B,EAAIE,KAYP2B,GAAiB,EAKjD,OAAA5B,GAAY,KAAGA,GAAY,IAAKA,GAAA,MAAAA,GAAA,SAAAA,GAAA,YAAAA,GAAA,YAAAA,GAG5B,GAAGA,EAAM6B,QAAS,UAAc,GAAE7B,EAAA6B,QAAA,OAGtCJ,EACCK,WAAW9B,KAIZ0B,EAAA1B,EAAY+B,QAAMN,EAAU,OAQ3B,MAFCzB,EAAAgC,MAAA,MAEMC,QACPN,EAAAO,SAAA,SAAAC,GAEoDA,IAAApC,EAAAiB,iBAAAmB,KAAAP,GAAA,MAErDA,mBAzCuC,CAAE,KAAK,MAAM,KAAM,KAAM,IAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAQ,KAC3G,KAKmB,KAClB,OAIyB","sources":["src/control.js"],"sourcesContent":["import \"./control.scss\";\r\n\r\n/* global dimensionkirkiL10n */\r\nwp.customize.controlConstructor['kirki-dimension'] = wp.customize.kirkiDynamicControl.extend( {\r\n\r\n\tinitKirkiControl: function( control ) {\r\n\t\tvar value;\r\n\t\tcontrol = control || this;\r\n\r\n\t\t// Notifications.\r\n\t\tcontrol.kirkiNotifications();\r\n\r\n\t\t// Save the value\r\n\t\tcontrol.container.on( 'change keyup paste', 'input', function() {\r\n\t\t\tvalue = jQuery( this ).val();\r\n\t\t\tcontrol.setting.set( value );\r\n\t\t} );\r\n\t},\r\n\r\n\t/**\r\n\t * Handles notifications.\r\n\t *\r\n\t * @returns {void}\r\n\t */\r\n\tkirkiNotifications: function() {\r\n\r\n\t\tvar control        = this,\r\n\t\t\tacceptUnitless = ( 'undefined' !== typeof control.params.choices && 'undefined' !== typeof control.params.choices.accept_unitless && true === control.params.choices.accept_unitless );\r\n\r\n\t\twp.customize( control.id, function( setting ) {\r\n\t\t\tsetting.bind( function( value ) {\r\n\t\t\t\tvar code = 'long_title';\r\n\r\n\t\t\t\tif ( false === control.validateCssValue( value ) && ( ! acceptUnitless || isNaN( value ) ) ) {\r\n\t\t\t\t\tsetting.notifications.add( code, new wp.customize.Notification( code, {\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\tmessage: dimensionkirkiL10n['invalid-value']\r\n\t\t\t\t\t} ) );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetting.notifications.remove( code );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t} );\r\n\t},\r\n\r\n\tvalidateCssValue: function( value ) {\r\n\r\n\t\tvar control = this,\r\n\t\t\tvalidUnits = [ 'fr', 'rem', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'vh', 'vw', 'vmin', 'vmax' ],\r\n\t\t\tnumericValue,\r\n\t\t\tunit,\r\n\t\t\tmultiples,\r\n\t\t\tmultiplesValid = true;\r\n\r\n\t\t// Whitelist values.\r\n\t\tif ( ! value || '' === value || 0 === value || '0' === value || 'auto' === value || 'inherit' === value || 'initial' === value ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Skip checking if calc().\r\n\t\tif ( 0 <= value.indexOf( 'calc(' ) && 0 <= value.indexOf( ')' ) ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Get the numeric value.\r\n\t\tnumericValue = parseFloat( value );\r\n\r\n\t\t// Get the unit\r\n\t\tunit = value.replace( numericValue, '' );\r\n\r\n\t\t// Allow unitless.\r\n\t\tif ( ! unit ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// Check for multiple values.\r\n\t\tmultiples = value.split( ' ' );\r\n\t\tif ( 2 <= multiples.length ) {\r\n\t\t\tmultiples.forEach( function( item ) {\r\n\t\t\t\tif ( item && ! control.validateCssValue( item ) ) {\r\n\t\t\t\t\tmultiplesValid = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn multiplesValid;\r\n\t\t}\r\n\r\n\t\t// Check the validity of the numeric value and units.\r\n\t\treturn ( ! isNaN( numericValue ) && -1 !== validUnits.indexOf( unit ) );\r\n\t}\r\n} );\r\n"],"names":["wp","customize","controlConstructor","kirkiDynamicControl","extend","initKirkiControl","control","value","this","kirkiNotifications","container","on","jQuery","val","setting","set","acceptUnitless","params","choices","accept_unitless","id","bind","code","validateCssValue","isNaN","notifications","remove","add","Notification","type","message","dimensionkirkiL10n","numericValue","unit","multiples","multiplesValid","indexOf","parseFloat","replace","split","length","forEach","item"],"version":3,"file":"control.js.map"}